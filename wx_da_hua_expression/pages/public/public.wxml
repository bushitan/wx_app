<!--public.wxml-->
<view class="page"  >
    <view class="">
        <!--搜索栏-->
        <view class="weui-search-bar">
            <view class="weui-search-bar__form">
                <view class="weui-search-bar__box">
                    <icon class="weui-icon-search_in-box" type="search" size="14"></icon>
                    <input type="text" class="weui-search-bar__input" placeholder="搜索" value="{{keyword}}" bindinput="inputTyping" bindfocus="inpuFocus" bindblur="inpuBlur"/>
                    <view class="weui-icon-clear" wx:if="{{keyword.length > 0}}" bindtap="clearInput">
                        <icon type="clear" size="14"></icon>
                    </view>
                </view>
            </view>
            <view class="weui-search-bar__cancel-btn" hidden="{{!searchResultShowed}}" bindtap="hideInput">取消</view>
        </view>

        <!--关键字推荐栏目-->
        <view class="weui-cells searchbar-result" hidden="{{!searchResultShowed}}">
            <block wx:for="{{searchKey}}">
                <navigator url="" class="weui-cell" hover-class="weui-cell_active"
                catchtap="searchShortcut" data-keyword="{{item}}">
                    <view class="weui-cell__bd">
                        <view>{{item}}</view>
                    </view>
                </navigator>
            </block>
            <navigator url="" class="weui-cell" hover-class="weui-cell_active"
                catchtap="searchShortcut"  data-keyword="目录导航">
                <view class="weui-cell__bd">
                    <view>目录导航</view>
                </view>
            </navigator>
        </view>
    </view>

    <!--首页全选项-->
    <view class="main" hidden="{{!indexShow}}">
        <block wx:for-items="{{tagListDisplay}}"  wx:for-item="tag">
            <view class="page__hd">
                <view class="page__title">{{tag.parent.name}}</view>
            </view>
            <view class=" page__bd_spacing" >
                <view class="weui-flex wrap">
                    <block wx:for-items="{{tag.sub}}"  wx:for-item="sub">
                        <view  class="placeholder-1" catchtap="searchShortcut"
                    data-keyword="{{sub.name}}">{{sub.name}}</view>
                    </block>
                </view>
             </view>
        </block>
    </view>

   
   
    <!--public Menu菜单-->
    <view class="emoticon-menu" hidden="{{menuType != '0' ? false:true}}">
        <!--右上角菜单-->
        <view class="weui-flex  ">
            <view class="weui-flex__item"></view>
            <view >
                <image src="../../images/ic_action_cancel_black.png" class="cancel" catchtap="hiddenAll"></image>
            </view>
        </view>
        
        <!--<view class="weui-flex page__bd_spacing" catchtap="hiddenAll" style="background-color: #EBEBEB;">
            <view></view>
            <view class="weui-flex__item"> 
                <view class="placeholder">  
                    <image hidden="{{menuType == MENU_TYPE.VIDEO ? true:false}}" class="weui-media-box__thumb" mode="aspectFit" src="{{selectEmoticon.img_url}}"  bindload="bindload"/>
                    <video hidden="{{menuType == MENU_TYPE.VIDEO ? false:true}}" class="weui-media-box__thumb" src="{{selectEmoticon.img_url}}" catchtap="eventBase"></video>
                </view>
            </view>
            <view></view>
        </view>-->

        <!--emoticon框 显示JPG或-->
        <view class="weui-flex" hidden="{{menuType == MENU_TYPE.VIDEO ? true:false}}"  catchtap="menuShare" style="background-color: #EBEBEB;">
            <view class="weui-flex__item page__bd_spacing"> 
                <view class="placeholder">
                    <image  class="weui-media-box__thumb" mode="aspectFit" src="{{selectEmoticon.yun_url}}"  bindload="bindload"/>
                    <video hidden="{{menuType == MENU_TYPE.VIDEO ? false:true}}" class="weui-media-box__thumb" src="{{selectEmoticon.img_url}}" catchtap="null"></video> <!--点击视频不关闭-->
                </view>
            </view>
        </view>

         <!--emoticon框 显示MP4-->
        <view class="weui-flex  "  hidden="{{menuType == MENU_TYPE.VIDEO ? false:true}}"  style="background-color: #EBEBEB;">
            <view class="weui-flex__item page__bd_spacing"> 
                <view class="placeholder">
                    <video hidden="{{menuType == MENU_TYPE.VIDEO ? false:true}}" class="weui-media-box__thumb" src="{{selectEmoticon.img_url}}" catchtap="null"></video> <!--点击视频不关闭-->
                </view>
            </view>
        </view>


        <view class="space-4">  </view>
       <!--菜单-->
        <view class="weui-flex btn_bar" >
            <view class="weui-flex__item"></view>
            <view > 

                <button  catchtap="menuCollect"  size="mini"  hidden="">收藏</button> 
                <button  catchtap="menuShare" type="primary" size="mini"  hidden="">分享</button>
                <!--<button class=""   catchtap="menuShare" size="mini" hidden="{{menuType == MENU_TYPE.VIDEO ? true:false}}">全屏预览</button>-->
            </view>
            <view class="weui-flex__item"> </view>
        </view>
    </view>

    <!--短语快捷键-->
    <view class="shortcut" hidden="{{!shortcutShow}}">
        <scroll-view scroll-x="true">
            <block wx:for="{{hotLabel}}">
                <label class="word {{keyword==item? 'select':'unselect'}}" catchtap="searchShortcut" data-keyword="{{item}}" >{{item}}</label>
            </block>
        </scroll-view>
    </view>

    <!--emoticon表情显示列表-->
    <scroll-view class="emoticon-wall" scroll-y="true" style="height:{{windowHeight}}px;"                             scroll-top="{{emoticonScrollTop}}" bindscrolltolower="scrollTolower" data-action="scrollTolower"  hidden="{{!emoticonShow}}" >
        <view class="emoticon-grids">
            <!--页眉-->
            <view class="weui-footer footer__bottom"> 
                <view class="weui-footer__links">      
                </view>
                <view class="weui-footer__text">{{titleText}}</view>
                <view class="weui-footer__text"></view>
            </view>
            <block wx:for-items="{{emoticon}}"  wx:for-item="emoticon">
                <navigator url="" class="emoticon-grid-3" hover-class="weui-grid_active"
                catchtap="onMenu"  mode="aspectFit" data-id="{{emoticon.img_id}}" data-img_url="{{emoticon.thumbnail_url}}" data-category_id="{{emoticon.category_id}}"  data-size="{{emoticon.size}}" data-static_url="{{emoticon.static_url}}"   data-yun_url="{{emoticon.yun_url}}" data-menu_type="{{emoticon.menu_type}}" >
                <image class="emoticon-grid__icon-3 emoticon-image" src="{{emoticon.thumbnail_url}}" background-size="cover" mode="aspectFit" />
                    <!--<view class="weui-grid__label">Grid</view>-->
                    <image wx:if="{{ emoticon.menu_type == 4 ? true :false}}" class="emoticon-grid__mark " src="../../images/mp4.png"></image>
                <image wx:if="{{ emoticon.menu_type == 1 ? true :false}}" class="emoticon-grid__mark " src="../../images/gif.png"></image>
                </navigator>
            </block>
        </view>
        <!--<view class="space-64"></view>-->

    <!--下拉加载数据-->
    <view class="scroll-load" >
        <view class="weui-loadmore" wx:if="{{scrollTolowerStatus == 2}}">
            <view class="weui-loading"></view>
            <view class="weui-loadmore__tips">正在加载</view>
        </view>
        <view wx:if="{{scrollTolowerStatus == 3}}">
            <view class="weui-loadmore weui-loadmore_line" >
                <view class="weui-loadmore__tips weui-loadmore__tips_in-line">加载完毕，逛逛<label class="nav__index"  catchtap="searchShortcut"  data-keyword="目录导航">目录导航</label></view>
                
            </view>
            <view class="weui-loadmore weui-loadmore_line weui-loadmore_dot">
                <view class="weui-loadmore__tips weui-loadmore__tips_in-line weui-loadmore__tips_in-dot"></view>
            </view>
        </view>
    </view>


    </scroll-view>

    <view class="page__bd" hidden="{{!loadShow}}">
        <view class="weui-loadmore">
            <view class="weui-loading"></view>
            <view class="weui-loadmore__tips">正在加载</view>
        </view>
        <view class="weui-loadmore weui-loadmore_line">
            <view class="weui-loadmore__tips weui-loadmore__tips_in-line">暂无表情</view>
        </view>
        <view class="weui-loadmore weui-loadmore_line weui-loadmore_dot">
            <view class="weui-loadmore__tips weui-loadmore__tips_in-line weui-loadmore__tips_in-dot"></view>
        </view>
    </view>
     <!--weui-footer_fixed-bottom-->
     <!--<navigator url="" class="weui-footer__link">WeUI首页</navigator>-->
        <!--<view class="weui-footer weui-footer_fixed-bottom"> 
            <view class="weui-footer__links">      
            </view>
            <view class="weui-footer__text">素材可投稿（管理员微信号：bushitan）</view>
        </view>-->
</view>